<!DOCTYPE html>
<html lang="nb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Blocks</title>
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="/android101/css/syntax.css">
        <link href="/android101/css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link rel="stylesheet" href="/android101/css/main.css">
        <script src="/android101/js/jquery.min.js"></script>
        <script src="/android101/js/bootstrap.min.js"></script>

    </head>
    <body>
      <div class="container-fluid main">
        <div class="row-fluid">
          <div class="span8">
            <h1 class="page-header">Blocks</h1>
            <ol>
	<li>Minner mye om closures, og brukes ofte for å
		<ol>
			<li>kunne kjøre små kodeblokker samtidig</li>
			<li>iterere over objekter i et array</li>
			<li>kjøre kode som et callback</li>
		</ol>
	</li>
	<li>Man definerer en block med <code>^{ /*min fine block*/ }</code>
		<ol>
			<li>Alt inne i blocken kan lese variabler på utsiden</li>
			<li>Variabler på utsiden må defineres med <code>__block</code> for å være skrivbare</li>
		</ol>
	</li>
</ol>

<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="cm">/* En block-definisjon */</span>
<span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">^</span><span class="n">KURLConnectionSuccessHandler</span><span class="p">)(</span><span class="bp">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>

<span class="cm">/* metodedefinisjon med block som input */</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startWithSuccessHandler:</span><span class="p">(</span><span class="n">KURLConnectionSuccessHandler</span><span class="p">)</span><span class="nv">successHandler</span><span class="p">;</span>

<span class="cm">/* Kall på metode med block lik block-definisjonen */</span>
<span class="p">[</span><span class="n">KURLConnection</span> <span class="nl">startWithSuccessHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="p">[</span><span class="nb">self</span> <span class="nl">cancelTouch</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
<span class="p">}];</span></code></pre></div>

          </div>
          <nav class="span4">
            <strong>Android Studio</strong>
            
<ul class="nav nav-pills nav-stacked">

  

  
    
  

  
    
  
    
  
    
      <li class="active"><a href="/android101/pages/blocks.html">Blocks</a></li>
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

            <strong>Android</strong>
            
<ul class="nav nav-pills nav-stacked">

  

  
    
  

  
    
      <li class=""><a href="/android101/pages/android-app-structure-and-components.html">App Structure and Components</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
      <li class=""><a href="/android101/pages/common-view-controls.html">Common View Controls</a></li>
    
  
    
  
    
  
    
  
    
  

  
</ul>
            
            <strong>Network Communication</strong>
            
<ul class="nav nav-pills nav-stacked">

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/android101/pages/retrofit.html">Consume REST APIs with Retrofit</a></li>
    
  
    
  

  
</ul>

            <strong>Resources</strong>
            
<ul class="nav nav-pills nav-stacked">

  

  
    
  

  
    
  
    
      <li class=""><a href="/android101/pages/assignments.html">Assignments</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/android101/pages/manus.html">Manus</a></li>
    
  
    
  
    
  

  
</ul>
          </nav>
        </div>
      </div>

    </body>
</html>
